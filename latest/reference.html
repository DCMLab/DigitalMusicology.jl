<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · DigitalMusicology.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>DigitalMusicology.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction</a></li><li class="current"><a class="toctext" href="reference.html">Reference</a><ul class="internal"><li><a class="toctext" href="#Pitches-1">Pitches</a></li><li><a class="toctext" href="#Pitch-Operations-1">Pitch Operations</a></li><li><a class="toctext" href="#Pitch-Collections-1">Pitch Collections</a></li><li><a class="toctext" href="#Notes-1">Notes</a></li><li><a class="toctext" href="#Timing-1">Timing</a></li><li><a class="toctext" href="#Meter-1">Meter</a></li><li><a class="toctext" href="#Slices-1">Slices</a></li><li><a class="toctext" href="#Events-1">Events</a></li><li><a class="toctext" href="#Grams-1">Grams</a></li><li><a class="toctext" href="#Viewing-1">Viewing</a></li><li><a class="toctext" href="#Corpora-1">Corpora</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="reference.html">Reference</a></li></ul><a class="edit-page" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/master/docs/src/reference.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Reference</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="DigitalMusicology.jl-1" href="#DigitalMusicology.jl-1">DigitalMusicology.jl</a></h1><p>All exported names of the submodules that are listed here are reexported by <code>DigitalMusicology</code>.</p><h2><a class="nav-anchor" id="Pitches-1" href="#Pitches-1">Pitches</a></h2><p>Pitch can be represented in many different ways, for example, as frequencies, piano keys, or the vertical position and the accedentals of written notes (spelled pitches). Representations of pitches are collected in the submodule <code>Pitches</code>. They are subtypes of the abstract <code>Pitch</code> type, support additive operations (<code>+</code>, <code>-</code>, <code>zero</code>), and have an order (via <code>isless</code>).</p><p>Currently, only <a href="https://en.wikipedia.org/wiki/MIDI">MIDI</a> pitches are implemented, other representations will follow.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Pitches.MidiPitch" href="#DigitalMusicology.Pitches.MidiPitch"><code>DigitalMusicology.Pitches.MidiPitch</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Pitches represented as chromatic integers. 60 is Middle C.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Pitches.jl#L15-L17">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Pitches.Pitch" href="#DigitalMusicology.Pitches.Pitch"><code>DigitalMusicology.Pitches.Pitch</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Any pitch type should be a subtype of <code>Pitch</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Pitches.jl#L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Pitches.midi-Tuple{Int64}" href="#DigitalMusicology.Pitches.midi-Tuple{Int64}"><code>DigitalMusicology.Pitches.midi</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Creates a <code>MidiPitch</code> from an integer.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Pitches.jl#L21">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Pitches.midis-Tuple{Any}" href="#DigitalMusicology.Pitches.midis-Tuple{Any}"><code>DigitalMusicology.Pitches.midis</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Maps <code>midi()</code> over a collection of integers.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Pitches.jl#L24">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Pitches.@midi-Tuple{Any}" href="#DigitalMusicology.Pitches.@midi-Tuple{Any}"><code>DigitalMusicology.Pitches.@midi</code></a> — <span class="docstring-category">Macro</span>.</div><div><pre><code class="language-none">@midi expr</code></pre><p>Replaces all <code>Int</code>s in <code>expr</code> with a call to <code>midi(::Int)</code>. This allows the user to write integers where midi pitches are required. Does not work when <code>expr</code> contains integers that should not be converted.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Pitches.jl#L27-L33">source</a></section><h2><a class="nav-anchor" id="Pitch-Operations-1" href="#Pitch-Operations-1">Pitch Operations</a></h2><p>Common operations on pitches and pitch-based structures.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchOps.allpcs" href="#DigitalMusicology.PitchOps.allpcs"><code>DigitalMusicology.PitchOps.allpcs</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">allpcs(P)</code></pre><p>Returns a list of all pitch classes of pitch type P.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchOps.jl#L12-L16">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchOps.pc" href="#DigitalMusicology.PitchOps.pc"><code>DigitalMusicology.PitchOps.pc</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Turn a pitch (or pitch collection) into a pitch class (collection)</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchOps.jl#L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchOps.transposeby" href="#DigitalMusicology.PitchOps.transposeby"><code>DigitalMusicology.PitchOps.transposeby</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Transpose a pitch (collection) by some directed interval.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchOps.jl#L21">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchOps.transposeto" href="#DigitalMusicology.PitchOps.transposeto"><code>DigitalMusicology.PitchOps.transposeto</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Transpose a pitch (collection) to a new reference point.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchOps.jl#L26">source</a></section><h2><a class="nav-anchor" id="Pitch-Collections-1" href="#Pitch-Collections-1">Pitch Collections</a></h2><p>The module <code>PitchCollections</code> provides structurs build out of pitches and pitch classes.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.FiguredBass" href="#DigitalMusicology.PitchCollections.FiguredBass"><code>DigitalMusicology.PitchCollections.FiguredBass</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Represents notes as a bass pitch with (a set of) figures.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L231">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.PitchCollection" href="#DigitalMusicology.PitchCollections.PitchCollection"><code>DigitalMusicology.PitchCollections.PitchCollection</code></a> — <span class="docstring-category">Type</span>.</div><div><p>An abstract supertype for pitch collections. Since a pitch collection should contain only one type of pitches, <code>PitchCollection</code> is parametric on a subtype of <code>Pitch</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L21-L25">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.bass" href="#DigitalMusicology.PitchCollections.bass"><code>DigitalMusicology.PitchCollections.bass</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Returns the bass pitch of a figured bass representation.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L234">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.figuredp-Tuple{Any}" href="#DigitalMusicology.PitchCollections.figuredp-Tuple{Any}"><code>DigitalMusicology.PitchCollections.figuredp</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">figuredp(pitches)</code></pre><p>Represents pitches as a bass pitch and remaining pitch classes relative to the bass.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L270-L275">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.figuredpc-Tuple{Any}" href="#DigitalMusicology.PitchCollections.figuredpc-Tuple{Any}"><code>DigitalMusicology.PitchCollections.figuredpc</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">figuredpc(pitches)</code></pre><p>Represents pitches as a bass pitch class and remaining pitch classes relative to the bass.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L326-L331">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.figures" href="#DigitalMusicology.PitchCollections.figures"><code>DigitalMusicology.PitchCollections.figures</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Returns the figure pitch classes of a figured bass representation. (including 0 for the bass note)</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L237-L239">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pbag-Tuple{Any}" href="#DigitalMusicology.PitchCollections.pbag-Tuple{Any}"><code>DigitalMusicology.PitchCollections.pbag</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Represents pitches as a bag of pitches.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L103">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pcbag-Tuple{Any}" href="#DigitalMusicology.PitchCollections.pcbag-Tuple{Any}"><code>DigitalMusicology.PitchCollections.pcbag</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Represents pitches as a bag (vector) of pitch classes.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L138">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pcset-Tuple{Any}" href="#DigitalMusicology.PitchCollections.pcset-Tuple{Any}"><code>DigitalMusicology.PitchCollections.pcset</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Represents pitches as a set of pitch classes.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L204">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pitches-Tuple{Any}" href="#DigitalMusicology.PitchCollections.pitches-Tuple{Any}"><code>DigitalMusicology.PitchCollections.pitches</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">pitches(pcoll)</code></pre><p>Returns a vector of all pitches in <code>pcoll</code> to the degree they can be reconstructed from the representation used by <code>pcoll</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L59-L64">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pitchiter" href="#DigitalMusicology.PitchCollections.pitchiter"><code>DigitalMusicology.PitchCollections.pitchiter</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">pitchiter(pitchcoll)</code></pre><p>If the collection has an inner collection of all pitches, this function returns an iterator over the inner collection. The outer collection does not have to implement the iterator interface, since the default implementation for <code>PitchCollection</code>s falls back to the inner iterator.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L49-L56">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pset-Tuple{Any}" href="#DigitalMusicology.PitchCollections.pset-Tuple{Any}"><code>DigitalMusicology.PitchCollections.pset</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Represent pitches as a set of absolute pitches.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L171">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.refpitch" href="#DigitalMusicology.PitchCollections.refpitch"><code>DigitalMusicology.PitchCollections.refpitch</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">refpitch(pitchcoll)</code></pre><p>Returns a unique reference pitch for the pitch collection. This reference should behave consistent with <code>transposeto</code> and <code>transposeby</code></p><pre><code class="language-julia">transposeto(coll, 0) == transposeby(coll, -refpitch(coll))</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L37-L46">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.transposeequiv" href="#DigitalMusicology.PitchCollections.transposeequiv"><code>DigitalMusicology.PitchCollections.transposeequiv</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">transposeequiv(pitchcoll)</code></pre><p>Turns a pitch collection to a representative of its transpositional equivalence class.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/PitchCollections.jl#L28-L32">source</a></section><h2><a class="nav-anchor" id="Notes-1" href="#Notes-1">Notes</a></h2><p>Notes are pitches with some kind of time information. In its most simple form, a note consists of a pitch, an onset, and an offset. In a more complicated context, time information might be represented differently.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Notes.Note" href="#DigitalMusicology.Notes.Note"><code>DigitalMusicology.Notes.Note</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Notes are combinations of pitch and time information.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Notes.jl#L13-L15">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Notes.TimedNote" href="#DigitalMusicology.Notes.TimedNote"><code>DigitalMusicology.Notes.TimedNote</code></a> — <span class="docstring-category">Type</span>.</div><div><p>A simple timed note. Pitch + onset + offset.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Notes.jl#L33-L35">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Notes.pitch" href="#DigitalMusicology.Notes.pitch"><code>DigitalMusicology.Notes.pitch</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">pitch(note)</code></pre><p>Returns the pitch of a note</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Notes.jl#L18-L22">source</a></section><h2><a class="nav-anchor" id="Timing-1" href="#Timing-1">Timing</a></h2><p>The timing interface provides methods for querying information on timed objects. A timed object may have an <code>onset</code>, an <code>offset</code>, and a <code>duration</code>. As not every object has all of these properties, <code>hasonset</code>, <code>hasoffset</code>, and <code>hasduration</code> should be used to indicate, which pieces of information are available. It is usually sufficient to define either <code>onset</code> and <code>offset</code> or <code>onset</code> and <code>duration</code>.</p><p>Furthermore, simple distance measures based on time are provided as <code>skipcost</code> and <code>onsetcost</code>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Timed.duration" href="#DigitalMusicology.Timed.duration"><code>DigitalMusicology.Timed.duration</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">duration(x)</code></pre><p>Returns the duration of some timed object x.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Timed.jl#L20-L24">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Timed.hasduration" href="#DigitalMusicology.Timed.hasduration"><code>DigitalMusicology.Timed.hasduration</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">hasduration(T)</code></pre><p>Returns true if T is a timed object with a duration.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Timed.jl#L41-L45">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Timed.hasoffset" href="#DigitalMusicology.Timed.hasoffset"><code>DigitalMusicology.Timed.hasoffset</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">hasoffset(T)</code></pre><p>Returns true if T is a timed object with an offset.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Timed.jl#L34-L38">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Timed.hasonset" href="#DigitalMusicology.Timed.hasonset"><code>DigitalMusicology.Timed.hasonset</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">hasonset(T)</code></pre><p>Returns true if T is a timed object with an onset.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Timed.jl#L27-L31">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Timed.offset" href="#DigitalMusicology.Timed.offset"><code>DigitalMusicology.Timed.offset</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">offset(x)</code></pre><p>Returns the offset of some timed object x.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Timed.jl#L13-L17">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Timed.onset" href="#DigitalMusicology.Timed.onset"><code>DigitalMusicology.Timed.onset</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">onset(x)</code></pre><p>Returns the onset of some timed object x.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Timed.jl#L6-L10">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Timed.onsetcost-Tuple{Any,Any}" href="#DigitalMusicology.Timed.onsetcost-Tuple{Any,Any}"><code>DigitalMusicology.Timed.onsetcost</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">onsetcost(timed1, timed2)</code></pre><p>Returns the distance between the onsets of timed1 and timed2.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Timed.jl#L68-L71">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Timed.skipcost-Tuple{Any,Any}" href="#DigitalMusicology.Timed.skipcost-Tuple{Any,Any}"><code>DigitalMusicology.Timed.skipcost</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">skipcost(timed1, timed2)</code></pre><p>Returns the distance between the offset of timed1 and the onset of timed2.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Timed.jl#L61-L65">source</a></section><h2><a class="nav-anchor" id="Meter-1" href="#Meter-1">Meter</a></h2><p>Time signatures and Meter</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Meter.TimeSignature" href="#DigitalMusicology.Meter.TimeSignature"><code>DigitalMusicology.Meter.TimeSignature</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">TimeSignature(num, denom)</code></pre><p>A simple time signature consisting of numerator and denomenator.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Meter.jl#L19-L23">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Meter.barbeatsubb-Union{Tuple{T,DigitalMusicology.Events.TimePartition{T,DigitalMusicology.Meter.TimeSignature}}, Tuple{T}} where T" href="#DigitalMusicology.Meter.barbeatsubb-Union{Tuple{T,DigitalMusicology.Events.TimePartition{T,DigitalMusicology.Meter.TimeSignature}}, Tuple{T}} where T"><code>DigitalMusicology.Meter.barbeatsubb</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">barbeatsubb(t, timesigmap)</code></pre><p>Returns a triple <code>(bar, beat, subbeat)</code> that indicates bar, beat, and subbeat of <code>t</code> in the context of <code>timesigmap</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Meter.jl#L153-L158">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Meter.defaultmeter-Tuple{DigitalMusicology.Meter.TimeSignature}" href="#DigitalMusicology.Meter.defaultmeter-Tuple{DigitalMusicology.Meter.TimeSignature}"><code>DigitalMusicology.Meter.defaultmeter</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">defaultmeter(timesig [, warning=true])</code></pre><p>For a time signature with sufficiently clear meter, returns the meter of the time signature. The meter is given as a list of group sizes in beats, i.e., only the numerator matters. For example, 2/2 -&gt; [1], 4/4 -&gt; [2,2], 3/4 -&gt; [3], 3/8 -&gt; 3, 6/8 -&gt; [3,3], 12/8 -&gt; [3,3,3,3].</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Meter.jl#L64-L70">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Meter.inbar-Union{Tuple{T,DigitalMusicology.Events.TimePartition{T,DigitalMusicology.Meter.TimeSignature}}, Tuple{T}} where T" href="#DigitalMusicology.Meter.inbar-Union{Tuple{T,DigitalMusicology.Events.TimePartition{T,DigitalMusicology.Meter.TimeSignature}}, Tuple{T}} where T"><code>DigitalMusicology.Meter.inbar</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">inbar(t, timesigmap)</code></pre><p>Returns the time point <code>t</code> relative to the beginning of the bar it lies in.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Meter.jl#L141-L145">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Meter.metricweight-Tuple{Rational{Int64},Array{Int64,1},Rational{Int64}}" href="#DigitalMusicology.Meter.metricweight-Tuple{Rational{Int64},Array{Int64,1},Rational{Int64}}"><code>DigitalMusicology.Meter.metricweight</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">metricweight(barpos, meter, beat)</code></pre><p>Returns the metric weight of a note starting at <code>barpos</code> from the beginning of a bar according to a meter. The <code>meter</code> is provided as a vector of group sizes in <code>beat</code>s. E.g., a 4/4 meter consists of 2 groups of two quarters, so <code>meter</code> would be <code>[2,2]</code> and <code>beat</code> would be <code>1/4</code>. The total length of the bar should be a multiple of <code>beat</code>. Each onset on a beat gets weight 1, the first beat of each group gets weight 2, and the first beat of the bar gets weight 4 (except if there is only one group, then 2). The weight of each subbeat is 1/2^p, where p is the number of prime factors needed to express the subbeat relative to its preceding beat and the <code>beat</code> unit. This way, tuplet divisions can be handled properly.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Meter.jl#L96-L111">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Meter.metricweight-Tuple{Rational{Int64},DigitalMusicology.Meter.TimeSignature}" href="#DigitalMusicology.Meter.metricweight-Tuple{Rational{Int64},DigitalMusicology.Meter.TimeSignature}"><code>DigitalMusicology.Meter.metricweight</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">metricweight(barpos, timesig)</code></pre><p>Tries to guess meter and beat from <code>timesig</code>. Otherwise identical to <code>metricweight(barpos, meter, beat)</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Meter.jl#L127-L132">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Meter.metricweight-Union{Tuple{T,DigitalMusicology.Events.TimePartition{T,DigitalMusicology.Meter.TimeSignature},Any,Any}, Tuple{T,DigitalMusicology.Events.TimePartition{T,DigitalMusicology.Meter.TimeSignature},Any}, Tuple{T,DigitalMusicology.Events.TimePartition{T,DigitalMusicology.Meter.TimeSignature}}, Tuple{T}} where T" href="#DigitalMusicology.Meter.metricweight-Union{Tuple{T,DigitalMusicology.Events.TimePartition{T,DigitalMusicology.Meter.TimeSignature},Any,Any}, Tuple{T,DigitalMusicology.Events.TimePartition{T,DigitalMusicology.Meter.TimeSignature},Any}, Tuple{T,DigitalMusicology.Events.TimePartition{T,DigitalMusicology.Meter.TimeSignature}}, Tuple{T}} where T"><code>DigitalMusicology.Meter.metricweight</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">metricweight(t, timesigmap [, meter [, beat]])</code></pre><p>Returns the metric weight at time point <code>t</code> in the context of <code>timesigmap</code>. Optionally, <code>meter</code>, and <code>beat</code> may be supplied as in <code>metricweight(barpos, meter, beat)</code> to override the default values inferred from the time signature at <code>t</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Meter.jl#L187-L193">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Meter.@time_str-Tuple{Any}" href="#DigitalMusicology.Meter.@time_str-Tuple{Any}"><code>DigitalMusicology.Meter.@time_str</code></a> — <span class="docstring-category">Macro</span>.</div><div><pre><code class="language-none">time&quot;num/denom&quot;</code></pre><p>Creates a TimeSignature object with numerator <code>num</code> and denominator <code>denom</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Meter.jl#L54-L58">source</a></section><h2><a class="nav-anchor" id="Slices-1" href="#Slices-1">Slices</a></h2><p>A piece of music might be represented as a list of slices by &quot;cutting&quot; it whenever a note starts or ends. A slice then has and onset, an offset, and a duration, and contains a <a href="reference.html#Pitch-Collections-1">collection of pitches</a> that sound during the slice.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.Slice" href="#DigitalMusicology.Slices.Slice"><code>DigitalMusicology.Slices.Slice</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Slice(onset::N, duration::N, content::T) where {N&lt;:Number, T}</code></pre><p>A slice of a pitches in a piece. Timing information (type <code>N</code>) is encoded as onset and duration with methods for obtaining and modifying the offset directly. The content of a slice is typically some representation of simultaneously sounding pitches (type <code>T</code>).</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L17-L25">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.setcontent-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},Any}, Tuple{N}, Tuple{T}} where T where N" href="#DigitalMusicology.Slices.setcontent-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},Any}, Tuple{N}, Tuple{T}} where T where N"><code>DigitalMusicology.Slices.setcontent</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">setcontent(ps, s)</code></pre><p>Returns a new slice with content <code>ps</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L82-L86">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.setduration-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T" href="#DigitalMusicology.Slices.setduration-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T"><code>DigitalMusicology.Slices.setduration</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">setduration(dur::N, s)</code></pre><p>Returns a new slice with duration <code>dur</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L66-L70">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.setoffset-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T" href="#DigitalMusicology.Slices.setoffset-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T"><code>DigitalMusicology.Slices.setoffset</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">setoffset(off::N, s)</code></pre><p>Returns a new slice with offset <code>off</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L74-L78">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.setonset-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T" href="#DigitalMusicology.Slices.setonset-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T"><code>DigitalMusicology.Slices.setonset</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">setonset(s, on)</code></pre><p>Returns a new slice with onset <code>on</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L58-L62">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.sg_sumdur-Tuple{Any}" href="#DigitalMusicology.Slices.sg_sumdur-Tuple{Any}"><code>DigitalMusicology.Slices.sg_sumdur</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Returns the sum of slice durations in a slice n-gram (excluding skipped time)</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L131">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.sg_totaldur-Tuple{Any}" href="#DigitalMusicology.Slices.sg_totaldur-Tuple{Any}"><code>DigitalMusicology.Slices.sg_totaldur</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Returns the total duration of a slice n-gram (including skipped time)</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L128">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.unwrapslices-Tuple{Any}" href="#DigitalMusicology.Slices.unwrapslices-Tuple{Any}"><code>DigitalMusicology.Slices.unwrapslices</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Returns the pitch representations in a vector of slices.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L125">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.updatecontent-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N" href="#DigitalMusicology.Slices.updatecontent-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N"><code>DigitalMusicology.Slices.updatecontent</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">updatecontent(f::Function, s::Slice)</code></pre><p>Returns a new slice with content <code>f(content(s))</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L114-L118">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.updateduration-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N" href="#DigitalMusicology.Slices.updateduration-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N"><code>DigitalMusicology.Slices.updateduration</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">updateduration(f::Function, s)</code></pre><p>Returns a new slice with duration <code>f(duration(s))</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L98-L102">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.updateoffset-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N" href="#DigitalMusicology.Slices.updateoffset-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N"><code>DigitalMusicology.Slices.updateoffset</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">updateoffset(f::Function, s)</code></pre><p>Returns a new slice with offset <code>f(offset(s))</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L106-L110">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.updateonset-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N" href="#DigitalMusicology.Slices.updateonset-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N"><code>DigitalMusicology.Slices.updateonset</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">updateonset(f::Function, s)</code></pre><p>Returns a new slice onset <code>f(onset(s))</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Slices.jl#L90-L94">source</a></section><h2><a class="nav-anchor" id="Events-1" href="#Events-1">Events</a></h2><p>General containers for events. Events can be either based on time points or on time intervals. Both types of intervals </p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Events.IntervalEvent" href="#DigitalMusicology.Events.IntervalEvent"><code>DigitalMusicology.Events.IntervalEvent</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">IntervalEvent(onset::T, offset::T, content::C)</code></pre><p>An event that spans a time interval. Has onset, offset, and duration.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Events.jl#L59-L64">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Events.PointEvent" href="#DigitalMusicology.Events.PointEvent"><code>DigitalMusicology.Events.PointEvent</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">PointEvent(time::T, content::C)</code></pre><p>An event that happens at a certain point in time. Has an onset but no offset or duration.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Events.jl#L23-L28">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Events.TimePartition" href="#DigitalMusicology.Events.TimePartition"><code>DigitalMusicology.Events.TimePartition</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">TimePartition(breaks::Vector{T}, contents::Vector{C}</code></pre><p>Partitions a time span into half-open intervals [t0,t1), [t1,t2), ..., [tn-1,tn), where each interval has a content. The default constructor takes vectors of time points <code>[t0...tn]</code> and content <code>[c1...cn]</code>. There must be one more time point than content items. The whole partition has a total onset, offset, and duration.</p><p>A <code>TimePartition</code> may be iterated over (as <code>IntervalEvent</code>s) and subintervals can be accessed by their indices. While getting an index returns a complete <code>IntervalEvent</code>, setting an index sets only the content of the corresponding interval.</p><pre><code class="language-none">tp[2] -&gt; IEv&lt;0.5-1.0&gt;(&quot;foo&quot;)
tp[2] = &quot;bar&quot;</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Events.jl#L103-L120">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Events.content" href="#DigitalMusicology.Events.content"><code>DigitalMusicology.Events.content</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">content(event)</code></pre><p>Returns the event&#39;s content.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Events.jl#L13-L17">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Events.events-Tuple{DigitalMusicology.Events.TimePartition}" href="#DigitalMusicology.Events.events-Tuple{DigitalMusicology.Events.TimePartition}"><code>DigitalMusicology.Events.events</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">events(timepartition)</code></pre><p>Returns a vector of time-interval events that correspond to the subintervals and their content in <code>timepartition</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Events.jl#L172-L177">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Events.findevent-Union{Tuple{C}, Tuple{DigitalMusicology.Events.TimePartition{T,C},T}, Tuple{T}} where C where T" href="#DigitalMusicology.Events.findevent-Union{Tuple{C}, Tuple{DigitalMusicology.Events.TimePartition{T,C},T}, Tuple{T}} where C where T"><code>DigitalMusicology.Events.findevent</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">findevent(timepartition, time)</code></pre><p>Returns the index of the interval in <code>timepartition</code> that contains the timepoint <code>time</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Events.jl#L181-L185">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Events.movepoint!-Union{Tuple{C}, Tuple{DigitalMusicology.Events.TimePartition{T,C},Any,T}, Tuple{T}} where C where T" href="#DigitalMusicology.Events.movepoint!-Union{Tuple{C}, Tuple{DigitalMusicology.Events.TimePartition{T,C},Any,T}, Tuple{T}} where C where T"><code>DigitalMusicology.Events.movepoint!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">movepoint!(timepartition, index, distance)</code></pre><p>Moves the time point at <code>index</code> by a (positive or negative) <code>distance</code>, shrinkening or removing intervals that lie between the point&#39;s old and new position.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Events.jl#L226-L231">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Events.setpoint!-Union{Tuple{C}, Tuple{DigitalMusicology.Events.TimePartition{T,C},Any,T}, Tuple{T}} where C where T" href="#DigitalMusicology.Events.setpoint!-Union{Tuple{C}, Tuple{DigitalMusicology.Events.TimePartition{T,C},Any,T}, Tuple{T}} where C where T"><code>DigitalMusicology.Events.setpoint!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">setpoint!(timepartition, index, newpos)</code></pre><p>Moves the time point at <code>index</code> to a new position, shrinkening or removing intervals that lie between the point&#39;s old and new position.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Events.jl#L209-L214">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Events.split!-Union{Tuple{C}, Tuple{DigitalMusicology.Events.TimePartition{T,C},T,C,C}, Tuple{T}} where C where T" href="#DigitalMusicology.Events.split!-Union{Tuple{C}, Tuple{DigitalMusicology.Events.TimePartition{T,C},T,C,C}, Tuple{T}} where C where T"><code>DigitalMusicology.Events.split!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">split!(timepartition, at, before, after)</code></pre><p>Splits the subinterval [ti,ti+1) of <code>timepartition</code> that contains <code>at</code> into [ti,<code>at</code>) with content <code>before</code> and [<code>at</code>,t2] with content <code>after</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Events.jl#L189-L194">source</a></section><h2><a class="nav-anchor" id="Grams-1" href="#Grams-1">Grams</a></h2><p>Functions for generating n-grams, scapes, and skipgrams on streams.</p><p>In order to generate classical skipgrams, use <a href="reference.html#DigitalMusicology.Grams.indexskipgrams-Tuple{Any,Int64,Int64}"><code>indexskipgrams</code></a>. <a href="reference.html#DigitalMusicology.Grams.skipgrams"><code>skipgrams</code></a> provides more general variant, which allows a custom cost function and a compatibility predicate over pairs of input tokens. While the cost function generalizes the <code>amount of skip</code> from indices to arbitrary costs, the compatibility predicate allows, for example, to ensure non-overlapping skipgrams on overlapping input or early filtering of undesired skipgrams.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Grams.grams-Union{Tuple{A,Int64}, Tuple{A}} where A&lt;:AbstractArray" href="#DigitalMusicology.Grams.grams-Union{Tuple{A,Int64}, Tuple{A}} where A&lt;:AbstractArray"><code>DigitalMusicology.Grams.grams</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">grams(arr, n)</code></pre><p>Return all <code>n</code>-grams in <code>arr</code>. <code>n</code> must be positive, otherwise an error is thrown.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; grams([1,2,3], 2)
2-element Array{Array{Int64,1},1}:
 [1, 2]
 [2, 3]</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Grams.jl#L15-L29">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Grams.indexskipgrams-Tuple{Any,Int64,Int64}" href="#DigitalMusicology.Grams.indexskipgrams-Tuple{Any,Int64,Int64}"><code>DigitalMusicology.Grams.indexskipgrams</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">indexskipgrams(itr, k, n)</code></pre><p>Return all <code>k</code>-skip-<code>n</code>-grams over <code>itr</code>, with skips based on indices. For a custom cost function, use <a href="reference.html#DigitalMusicology.Grams.skipgrams"><code>skipgrams</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; indexskipgrams([1,2,3,4,5], 2, 2)
9-element Array{Any,1}:
 Any[1, 2]
 Any[1, 3]
 Any[2, 3]
 Any[1, 4]
 Any[2, 4]
 Any[3, 4]
 Any[2, 5]
 Any[3, 5]
 Any[4, 5]</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Grams.jl#L380-L401">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Grams.mapscapes-Union{Tuple{A}, Tuple{Function,A}} where A&lt;:AbstractArray" href="#DigitalMusicology.Grams.mapscapes-Union{Tuple{A}, Tuple{Function,A}} where A&lt;:AbstractArray"><code>DigitalMusicology.Grams.mapscapes</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">mapscapes(f, arr)</code></pre><p>Map <code>f</code> over all <code>n</code>-grams in arr for <code>n=1:size(arr, 1)</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Grams.jl#L54-L58">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Grams.scapes-Union{Tuple{A}, Tuple{A}} where A&lt;:AbstractArray" href="#DigitalMusicology.Grams.scapes-Union{Tuple{A}, Tuple{A}} where A&lt;:AbstractArray"><code>DigitalMusicology.Grams.scapes</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">scapes(arr)</code></pre><p>Return all <code>n</code>-grams in <code>arr</code> for <code>n=1:size(arr, 1)</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; scapes([1,2,3])
3-element Array{Array{Array{Int64,1},1},1}:
 Array{Int64,1}[[1], [2], [3]]
 Array{Int64,1}[[1, 2], [2, 3]]
 Array{Int64,1}[[1, 2, 3]]</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Grams.jl#L36-L50">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Grams.skipgrams" href="#DigitalMusicology.Grams.skipgrams"><code>DigitalMusicology.Grams.skipgrams</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">skipgrams(input, k, n, cost [, pred] [, element_type=type] [, stable=false] [, p=1.0])</code></pre><p>Returns an iterator over all generalized <code>k</code>-skip-<code>n</code>-grams found in <code>input</code>.</p><p>Instead of defining skips as index steps &gt; 1, a general <code>cost</code> function is used. <code>k</code> is then an upper bound to the sum of all distances between consecutive elements in the gram.</p><p>The input needs to be iterable and monotonous with respect to the cost to a previous element:</p><pre><code class="language-none">∀ i&lt;j&lt;l: cost(input[i], input[j]) ≤ cost(input[i], input[l])</code></pre><p>From this we know that if the current element increases the skip cost of some unfinished gram (prefix) to more than <code>k</code>, then all following elements will increase the cost at least as much, so we can discard the prefix.</p><p>An optional predicate function can be provided to filter potential skipgrams early. The predicate takes a <code>PersistentList</code> of input elements <em>in reverse order</em> (i.e., starting with the element that was added last). The predicate is applied to every prefix, so the list will have &lt;=n elements. By default, all sequences of input elements are valid.</p><p>If <code>element_type</code> is provided, the resulting iterator will have a corresponding <code>eltype</code>. If not, it will try to guess the element type based on the input&#39;s <code>eltype</code>.</p><p>If <code>stable</code> is <code>true</code>, then the skipgrams will be ordered with respect to the position of their first element in the input stream. If <code>stable</code> is <code>false</code> (default), no particular order is guaranteed.</p><p>The parameter <code>p</code> allows to decide randomly (with probability p) whether a skipgram is included in the output in cases where the full list of skipgrams is to long. A coin with bias p^(1/n) will be flipped for every prefix applying to all completions of that prefix. Only if the coin flip for every prefix is positive, the skipgram will be included. This allows to save computation time by throwing away all completions of a discarded prefix, but it might introduce artifacts for the same reason.</p><p><strong>Examples</strong></p><pre><code class="language-julia">function indexskipgrams(itr, k, n)
    cost(x, y) = y[1] - x[1] - 1
    grams = skipgrams_itr(enumerate(itr), k, n, cost)
    map(sg -&gt; map(x -&gt; x[2], sg), grams)
end</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Grams.jl#L97-L145">source</a></section><h2><a class="nav-anchor" id="Viewing-1" href="#Viewing-1">Viewing</a></h2><p>Helpers for viewing music.</p><p>Midi files in a corpus can be viewed using <a href="https://musescore.org/">MuseScore</a>. (This function will probably be moved to the corpora package.)</p><p>In Jupyter notebooks, <a href="http://www.humdrum.org/">Humdrum</a> <code>**kern</code> strings can be viewed (and played) using <a href="http://www.verovio.org/">Verovio</a> (in fact, the branch of Verovio that is used in the <a href="http://doc.verovio.humdrum.org/">Verovio HumDrum Viewer</a>). Therefore, a musical structure can be visualized by translating it to a <a href="reference.html#DigitalMusicology.External.HumDrumString"><code>HumDrumString</code></a>.</p><p>For example, the Humdrum string</p><pre><code class="language-none">**kern	**kern
*clefF4	*clefG2
*k[f#]	*k[f#]
*M4/4	*M4/4
=-	=-
8GL	8ddL
8AJ	8ccJ
16BLL	2.b;
16A	.
16G	.
16F#JJ	.
2G;	.
==	==
*-	*-</code></pre><p>will be displayed as</p><p><img src="assets/vhv_example.svg" alt="verovio svg"/></p><p>As Verovio can display other formats than Humdrum, corresponding types might be added in the future.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.External.HumDrumString" href="#DigitalMusicology.External.HumDrumString"><code>DigitalMusicology.External.HumDrumString</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">HumDrumString(&quot;some humdrum&quot;)</code></pre><p>A wrapper class that enables rendering and midi playback of humdrum code in the browser using verovio. When a HumDrumString is the result of a jupyter notebook cell, its content will be rendered to the output cell automatically.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/External.jl#L28-L35">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.External.musescore" href="#DigitalMusicology.External.musescore"><code>DigitalMusicology.External.musescore</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">musescore(id, [corpus])</code></pre><p>Opens the midi file of the piece that <code>id</code> refers to using Musescore. If <code>corpus</code> is not supplied, the current default corpus is used.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/External.jl#L12-L17">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.External.verovio-Tuple{}" href="#DigitalMusicology.External.verovio-Tuple{}"><code>DigitalMusicology.External.verovio</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">verovio()</code></pre><p>Set up display of <a href="reference.html#DigitalMusicology.External.HumDrumString"><code>HumDrumString</code></a>s in Jupyter Notebooks.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/External.jl#L78-L82">source</a></section><h2><a class="nav-anchor" id="Corpora-1" href="#Corpora-1">Corpora</a></h2><p>Musical corpora contain pieces in various file formats and additional metadata. As different corpora have a different internal layout, DM.jl provides an interface that can be implemented for each type of corups that is used. A single piece is identified by a piece id and can be loaded in different representations that may contain different pieces of information about the piece, e.g. as a note list from MIDI files or as Metadata from JSON or CSV files. The implementation of a corpus must provide methods to list all possible piece ids. Piece ids may be organized hierarchically, e.g., in order to reflect the directory structure of the corpus.</p><p>Each corpus implements its own subtype of <code>Corpus</code>, on which the implementation of the general interface dispatches. For convenience, a currently active corpus can be set using <code>setcorpus</code>. Corpus interface methods called without the corpus argument default to this currently active corpus. Each corpus implementation should provide a convenience function <code>useX</code> that creates a corpus object and sets it as active.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora._getpiece" href="#DigitalMusicology.Corpora._getpiece"><code>DigitalMusicology.Corpora._getpiece</code></a> — <span class="docstring-category">Function</span>.</div><div><p>_getpiece(id, Val{form}(), corpus)</p><p>This function is responsible for actually loading a piece. New corpus implementations should implement this method instead of <code>getpiece</code>, which is called by the user.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L175-L181">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.allpieces" href="#DigitalMusicology.Corpora.allpieces"><code>DigitalMusicology.Corpora.allpieces</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">allpieces([corpus])</code></pre><p>Returns all piece ids in <code>corpus</code>.</p><pre><code class="language-none">allpieces(dir, [corpus])</code></pre><p>Returns all piece ids in and below <code>dir</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L61-L69">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.dirs" href="#DigitalMusicology.Corpora.dirs"><code>DigitalMusicology.Corpora.dirs</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">dirs([corpus])</code></pre><p>Returns all top-level piece directories in <code>corpus</code>.</p><pre><code class="language-none">dirs(dir, [corpus])</code></pre><p>Returns all direct subdirectories of <code>dir</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L84-L92">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.findpieces" href="#DigitalMusicology.Corpora.findpieces"><code>DigitalMusicology.Corpora.findpieces</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">findpieces(searchstring[, corpus])</code></pre><p>Searches the corpus for pieces matching searchstring. Returns a dataframe of matching rows.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L121-L126">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.getcorpus-Tuple{}" href="#DigitalMusicology.Corpora.getcorpus-Tuple{}"><code>DigitalMusicology.Corpora.getcorpus</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Get the currently set corpus. Throws an error, if the corpus is not set.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L21-L23">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.getpiece" href="#DigitalMusicology.Corpora.getpiece"><code>DigitalMusicology.Corpora.getpiece</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">getpiece(id, form, [corpus])</code></pre><p>Loads a piece in some representation. Piece ids are strings, but their exact format depends on the given corpus.</p><p>Forms are identified by keywords, e.g.</p><ul><li><p><code>:slices</code></p></li><li><p><code>:slices_df</code></p></li><li><p><code>:notes</code></p></li></ul><p>but the supported keywords depend on the corpus.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L142-L153">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.getpieces" href="#DigitalMusicology.Corpora.getpieces"><code>DigitalMusicology.Corpora.getpieces</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">getpieces(ids, form, [datadir])</code></pre><p>Like <code>getpiece</code> but takes multiple ids and returns an iterator over the resulting pieces.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L157-L162">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.ls" href="#DigitalMusicology.Corpora.ls"><code>DigitalMusicology.Corpora.ls</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">ls([corpus])</code></pre><p>Returns all top-level pieces and directories in <code>corpus</code> at once.</p><pre><code class="language-none">ls(dir, [corpus])</code></pre><p>Returns all subdirectories and pieces in <code>dir</code> at once.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L106-L114">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.piecepath" href="#DigitalMusicology.Corpora.piecepath"><code>DigitalMusicology.Corpora.piecepath</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">piecepath(id, cat, ext, [corpus])</code></pre><p>Returns the full path to the file of piece <code>id</code> in category <code>cat</code> with extension <code>ext</code> in <code>corpus</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L133-L138">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.pieces" href="#DigitalMusicology.Corpora.pieces"><code>DigitalMusicology.Corpora.pieces</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">pieces(dir, [corpus])</code></pre><p>Returns the piece ids in <code>dir</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L98-L102">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.setcorpus-Tuple{DigitalMusicology.Corpora.Corpus}" href="#DigitalMusicology.Corpora.setcorpus-Tuple{DigitalMusicology.Corpora.Corpus}"><code>DigitalMusicology.Corpora.setcorpus</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Set the current corpus.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L32">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.supportedforms" href="#DigitalMusicology.Corpora.supportedforms"><code>DigitalMusicology.Corpora.supportedforms</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">supportedforms([corpus])</code></pre><p>Returns a list of symbols that can be passed to the <code>form</code> parameter in piece loading functions for the given corpus.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L47-L52">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.topdir" href="#DigitalMusicology.Corpora.topdir"><code>DigitalMusicology.Corpora.topdir</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">topdir([corpus])</code></pre><p>Returns the main piece directory of <code>corpus</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L75-L79">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.unsetcorpus-Tuple{}" href="#DigitalMusicology.Corpora.unsetcorpus-Tuple{}"><code>DigitalMusicology.Corpora.unsetcorpus</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Reset the current corpus to <code>NoCorpus()</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/Corpora.jl#L38">source</a></section><h3><a class="nav-anchor" id="Large-Archive-Corpus-1" href="#Large-Archive-Corpus-1">Large Archive Corpus</a></h3><p>A &quot;LAC&quot; contains an index CSV file and a set of toplevel directories according to different representations of the content of the corpus. Each of these &quot;type&quot;-directories contains the same folder hierarchy below it, including the names of the actual data files, except the file extension. The id of a piece is therefore its path in this common substructure, separated with <code>/</code> and ending in the filename without extension. The actual file of a certain type can then be retrieved from the id by prepending the name of the type-directory and appending the appropriate file extension.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.LAC.meta" href="#DigitalMusicology.Corpora.LAC.meta"><code>DigitalMusicology.Corpora.LAC.meta</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">meta([crp::LACCorpus])</code></pre><p>Returns the corpus&#39; meta-dataframe.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/corpora/LAC.jl#L92-L96">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.LAC.yearbins" href="#DigitalMusicology.Corpora.LAC.yearbins"><code>DigitalMusicology.Corpora.LAC.yearbins</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">yearbins(timespan [, reference=0 [, corpus]])</code></pre><p>Returns piece ids in a list of bins as named tuples <code>(onset, offset, bin, ids)</code>. The bins are <code>timespan</code> years wide and start at <code>reference</code>. Only pieces with a readable <code>composition_year</code> metadata entry are returned. The year is read from the <code>composition_year</code> column by taking the first sequence of 4 digits in each row.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/corpora/LAC.jl#L114-L124">source</a></section><h3><a class="nav-anchor" id="Kern-Corpus-(WIP)-1" href="#Kern-Corpus-(WIP)-1">Kern Corpus (WIP)</a></h3><p>A Kern corpus provides access to the Humdrum <code>**kern</code> corpora provided by Craig Sapp like the <a href="https://github.com/craigsapp/mozart-piano-sonatas">Mozart Piano Sonatas</a>. Note that running some extra commands like <code>make midi-norep</code> might be required first.</p><p>Currently, the files can only be read from MIDI, not directly from Humdrum, but this is being worked on.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.Kern.kerncrp-Tuple{String}" href="#DigitalMusicology.Corpora.Kern.kerncrp-Tuple{String}"><code>DigitalMusicology.Corpora.Kern.kerncrp</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">kerncrp(dir)</code></pre><p>Creates a new KernCorpus with data directory <code>dir</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/corpora/Kern.jl#L15-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Corpora.Kern.usekern-Tuple{String}" href="#DigitalMusicology.Corpora.Kern.usekern-Tuple{String}"><code>DigitalMusicology.Corpora.Kern.usekern</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">usekern(dir)</code></pre><p>Creates a new KernCorpus and sets it as the default corpus.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/9ea47d2f7f53362d67d6d362224247245e646286/src/corpora/Kern.jl#L29-L33">source</a></section><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Introduction</span></a></footer></article></body></html>
