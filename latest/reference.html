<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · DigitalMusicology.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>DigitalMusicology.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction</a></li><li class="current"><a class="toctext" href="reference.html">Reference</a><ul class="internal"><li><a class="toctext" href="#Pitches-1">Pitches</a></li><li><a class="toctext" href="#Pitch-Operations-1">Pitch Operations</a></li><li><a class="toctext" href="#Pitch-Collections-1">Pitch Collections</a></li><li><a class="toctext" href="#Slices-1">Slices</a></li><li><a class="toctext" href="#Grams-1">Grams</a></li><li><a class="toctext" href="#Viewing-1">Viewing</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="reference.html">Reference</a></li></ul><a class="edit-page" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/master/docs/src/reference.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Reference</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="DigitalMusicology.jl-1" href="#DigitalMusicology.jl-1">DigitalMusicology.jl</a></h1><p>All exported names of the submodules that are listed here are reexported by <code>DigitalMusicology</code>.</p><h2><a class="nav-anchor" id="Pitches-1" href="#Pitches-1">Pitches</a></h2><p>Pitch can be represented in many different ways, for example, as frequencies, piano keys, or the vertical position and the accedentals of written notes (spelled pitches). Representations of pitches are collected in the submodule <code>Pitches</code>. They are subtypes of the abstract <code>Pitch</code> type, support additive operations (<code>+</code>, <code>-</code>, <code>zero</code>), and have an order (via <code>isless</code>).</p><p>Currently, only <a href="https://en.wikipedia.org/wiki/MIDI">MIDI</a> pitches are implemented, other representations will follow.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Pitches.MidiPitch" href="#DigitalMusicology.Pitches.MidiPitch"><code>DigitalMusicology.Pitches.MidiPitch</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Pitches represented as chromatic integers. 60 is Middle C.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Pitches.jl#L15-L17">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Pitches.Pitch" href="#DigitalMusicology.Pitches.Pitch"><code>DigitalMusicology.Pitches.Pitch</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Any pitch type should be a subtype of <code>Pitch</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Pitches.jl#L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Pitches.midi-Tuple{Int64}" href="#DigitalMusicology.Pitches.midi-Tuple{Int64}"><code>DigitalMusicology.Pitches.midi</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Creates a <code>MidiPitch</code> from an integer.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Pitches.jl#L21">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Pitches.midis-Tuple{Any}" href="#DigitalMusicology.Pitches.midis-Tuple{Any}"><code>DigitalMusicology.Pitches.midis</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Maps <code>midi()</code> over a collection of integers.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Pitches.jl#L24">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Pitches.@midi-Tuple{Any}" href="#DigitalMusicology.Pitches.@midi-Tuple{Any}"><code>DigitalMusicology.Pitches.@midi</code></a> — <span class="docstring-category">Macro</span>.</div><div><pre><code class="language-none">@midi expr</code></pre><p>Replaces all <code>Int</code>s in <code>expr</code> with a call to <code>midi(::Int)</code>. This allows the user to write integers where midi pitches are required. Does not work when <code>expr</code> contains integers that should not be converted.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Pitches.jl#L27-L33">source</a></section><h2><a class="nav-anchor" id="Pitch-Operations-1" href="#Pitch-Operations-1">Pitch Operations</a></h2><p>Common operations on pitches and pitch-based structures.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchOps.allpcs" href="#DigitalMusicology.PitchOps.allpcs"><code>DigitalMusicology.PitchOps.allpcs</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">allpcs(P)</code></pre><p>Returns a list of all pitch classes of pitch type P.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchOps.jl#L12-L16">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchOps.pc" href="#DigitalMusicology.PitchOps.pc"><code>DigitalMusicology.PitchOps.pc</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Turn a pitch (or pitch collection) into a pitch class (collection)</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchOps.jl#L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchOps.transposeby" href="#DigitalMusicology.PitchOps.transposeby"><code>DigitalMusicology.PitchOps.transposeby</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Transpose a pitch (collection) by some directed interval.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchOps.jl#L21">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchOps.transposeto" href="#DigitalMusicology.PitchOps.transposeto"><code>DigitalMusicology.PitchOps.transposeto</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Transpose a pitch (collection) to a new reference point.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchOps.jl#L26">source</a></section><h2><a class="nav-anchor" id="Pitch-Collections-1" href="#Pitch-Collections-1">Pitch Collections</a></h2><p>The module <code>PitchCollections</code> provides structurs build out of pitches and pitch classes.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.FiguredBass" href="#DigitalMusicology.PitchCollections.FiguredBass"><code>DigitalMusicology.PitchCollections.FiguredBass</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Represents notes as a bass pitch with (a set of) figures.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L232">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.PitchCollection" href="#DigitalMusicology.PitchCollections.PitchCollection"><code>DigitalMusicology.PitchCollections.PitchCollection</code></a> — <span class="docstring-category">Type</span>.</div><div><p>An abstract supertype for pitch collections. Since a pitch collection should contain only one type of pitches, <code>PitchCollection</code> is parametric on a subtype of <code>Pitch</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L21-L25">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.bass" href="#DigitalMusicology.PitchCollections.bass"><code>DigitalMusicology.PitchCollections.bass</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Returns the bass pitch of a figured bass representation.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L235">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.figuredp-Tuple{Any}" href="#DigitalMusicology.PitchCollections.figuredp-Tuple{Any}"><code>DigitalMusicology.PitchCollections.figuredp</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">figuredp(pitches)</code></pre><p>Represents pitches as a bass pitch and remaining pitch classes relative to the bass.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L271-L276">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.figuredpc-Tuple{Any}" href="#DigitalMusicology.PitchCollections.figuredpc-Tuple{Any}"><code>DigitalMusicology.PitchCollections.figuredpc</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">figuredpc(pitches)</code></pre><p>Represents pitches as a bass pitch class and remaining pitch classes relative to the bass.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L327-L332">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.figures" href="#DigitalMusicology.PitchCollections.figures"><code>DigitalMusicology.PitchCollections.figures</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Returns the figure pitch classes of a figured bass representation. (including 0 for the bass note)</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L238-L240">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pbag-Tuple{Any}" href="#DigitalMusicology.PitchCollections.pbag-Tuple{Any}"><code>DigitalMusicology.PitchCollections.pbag</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Represents pitches as a bag of pitches.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L104">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pcbag-Tuple{Any}" href="#DigitalMusicology.PitchCollections.pcbag-Tuple{Any}"><code>DigitalMusicology.PitchCollections.pcbag</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Represents pitches as a bag (vector) of pitch classes.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L139">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pcset-Tuple{Any}" href="#DigitalMusicology.PitchCollections.pcset-Tuple{Any}"><code>DigitalMusicology.PitchCollections.pcset</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Represents pitches as a set of pitch classes.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L205">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pitches-Tuple{Any}" href="#DigitalMusicology.PitchCollections.pitches-Tuple{Any}"><code>DigitalMusicology.PitchCollections.pitches</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">pitches(pcoll)</code></pre><p>Returns a vector of all pitches in <code>pcoll</code> to the degree they can be reconstructed from the representation used by <code>pcoll</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L60-L65">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.pset-Tuple{Any}" href="#DigitalMusicology.PitchCollections.pset-Tuple{Any}"><code>DigitalMusicology.PitchCollections.pset</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Represent pitches as a set of absolute pitches.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L172">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.refpitch" href="#DigitalMusicology.PitchCollections.refpitch"><code>DigitalMusicology.PitchCollections.refpitch</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">refpitch(pitchcoll)</code></pre><p>Returns a unique reference pitch for the pitch collection. This reference should behave consistent with <code>transposeto</code> and <code>transposeby</code></p><pre><code class="language-julia">transposeto(coll, 0) == transposeby(coll, -refpitch(coll))</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L37-L46">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.PitchCollections.transposeequiv" href="#DigitalMusicology.PitchCollections.transposeequiv"><code>DigitalMusicology.PitchCollections.transposeequiv</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">transposeequiv(pitchcoll)</code></pre><p>Turns a pitch collection to a representative of its transpositional equivalence class.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/PitchCollections.jl#L28-L32">source</a></section><h2><a class="nav-anchor" id="Slices-1" href="#Slices-1">Slices</a></h2><p>A piece of music might be represented as a list of slices by &quot;cutting&quot; it whenever a note starts or ends. A slice then has and onset, an offset, and a duration, and contains a <a href="reference.html#Pitch-Collections-1">collection of pitches</a> that sound during the slice.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.Slice" href="#DigitalMusicology.Slices.Slice"><code>DigitalMusicology.Slices.Slice</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Slice(onset::N, duration::N, content::T) where {N&lt;:Number, T}</code></pre><p>A slice of a pitches in a piece. Timing information (type <code>N</code>) is encoded as onset and duration with methods for obtaining and modifying the offset directly. The content of a slice is typically some representation of simultaneously sounding pitches (type <code>T</code>).</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L16-L24">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.content-Union{Tuple{DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where N where T" href="#DigitalMusicology.Slices.content-Union{Tuple{DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where N where T"><code>DigitalMusicology.Slices.content</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Returns the content of slice s.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L52">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.setcontent-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},Any}, Tuple{N}, Tuple{T}} where T where N" href="#DigitalMusicology.Slices.setcontent-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},Any}, Tuple{N}, Tuple{T}} where T where N"><code>DigitalMusicology.Slices.setcontent</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">setcontent(ps, s)</code></pre><p>Returns a new slice with content <code>ps</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L81-L85">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.setduration-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T" href="#DigitalMusicology.Slices.setduration-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T"><code>DigitalMusicology.Slices.setduration</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">setduration(dur::N, s)</code></pre><p>Returns a new slice with duration <code>dur</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L65-L69">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.setoffset-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T" href="#DigitalMusicology.Slices.setoffset-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T"><code>DigitalMusicology.Slices.setoffset</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">setoffset(off::N, s)</code></pre><p>Returns a new slice with offset <code>off</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L73-L77">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.setonset-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T" href="#DigitalMusicology.Slices.setonset-Union{Tuple{DigitalMusicology.Slices.Slice{N,T},N}, Tuple{N}, Tuple{T}} where N where T"><code>DigitalMusicology.Slices.setonset</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">setonset(s, on)</code></pre><p>Returns a new slice with onset <code>on</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L57-L61">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.sg_sumdur-Tuple{Any}" href="#DigitalMusicology.Slices.sg_sumdur-Tuple{Any}"><code>DigitalMusicology.Slices.sg_sumdur</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Returns the sum of slice durations in a slice n-gram (excluding skipped time)</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L130">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.sg_totaldur-Tuple{Any}" href="#DigitalMusicology.Slices.sg_totaldur-Tuple{Any}"><code>DigitalMusicology.Slices.sg_totaldur</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Returns the total duration of a slice n-gram (including skipped time)</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L127">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.unwrapslices-Tuple{Any}" href="#DigitalMusicology.Slices.unwrapslices-Tuple{Any}"><code>DigitalMusicology.Slices.unwrapslices</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Returns the pitch representations in a vector of slices.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L124">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.updatecontent-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N" href="#DigitalMusicology.Slices.updatecontent-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N"><code>DigitalMusicology.Slices.updatecontent</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">updatecontent(f::Function, s::Slice)</code></pre><p>Returns a new slice with content <code>f(content(s))</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L113-L117">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.updateduration-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N" href="#DigitalMusicology.Slices.updateduration-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N"><code>DigitalMusicology.Slices.updateduration</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">updateduration(f::Function, s)</code></pre><p>Returns a new slice with duration <code>f(duration(s))</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L97-L101">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.updateoffset-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N" href="#DigitalMusicology.Slices.updateoffset-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N"><code>DigitalMusicology.Slices.updateoffset</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">updateoffset(f::Function, s)</code></pre><p>Returns a new slice with offset <code>f(offset(s))</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L105-L109">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Slices.updateonset-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N" href="#DigitalMusicology.Slices.updateonset-Union{Tuple{Function,DigitalMusicology.Slices.Slice{N,T}}, Tuple{N}, Tuple{T}} where T where N"><code>DigitalMusicology.Slices.updateonset</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">updateonset(f::Function, s)</code></pre><p>Returns a new slice onset <code>f(onset(s))</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Slices.jl#L89-L93">source</a></section><h2><a class="nav-anchor" id="Grams-1" href="#Grams-1">Grams</a></h2><p>Functions for generating n-grams, scapes, and skipgrams on streams.</p><p>In order to generate classical skipgrams, use <a href="reference.html#DigitalMusicology.Grams.skipgrams"><code>skipgrams</code></a>. <a href="@ref"><code>skipgrams_itr</code></a> provides more general variant, which allows a custom cost function and a compatibility predicate over pairs of input tokens. While the cost function generalizes the <code>amount of skip</code> from indices to arbitrary costs, the compatibility predicate allows, for example, to ensure non-overlapping skipgrams on overlapping input or early filtering of undesired skipgrams.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Grams.grams-Union{Tuple{A,Int64}, Tuple{A}} where A&lt;:AbstractArray" href="#DigitalMusicology.Grams.grams-Union{Tuple{A,Int64}, Tuple{A}} where A&lt;:AbstractArray"><code>DigitalMusicology.Grams.grams</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">grams(arr, n)</code></pre><p>Return all <code>n</code>-grams in <code>arr</code>. <code>n</code> must be positive, otherwise an error is thrown.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; grams([1,2,3], 2)
2-element Array{Array{Int64,1},1}:
 [1, 2]
 [2, 3]</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Grams.jl#L15-L29">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Grams.indexskipgrams-Tuple{Any,Int64,Int64}" href="#DigitalMusicology.Grams.indexskipgrams-Tuple{Any,Int64,Int64}"><code>DigitalMusicology.Grams.indexskipgrams</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">indexskipgrams(itr, k, n)</code></pre><p>Return all <code>k</code>-skip-<code>n</code>-grams over <code>itr</code>, with skips based on indices. For a custom cost function, use <a href="@ref"><code>skipgrams_itr</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; indexskipgrams([1,2,3,4,5], 2, 2)
9-element Array{Any,1}:
 Any[1, 2]
 Any[1, 3]
 Any[2, 3]
 Any[1, 4]
 Any[2, 4]
 Any[3, 4]
 Any[2, 5]
 Any[3, 5]
 Any[4, 5]</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Grams.jl#L380-L401">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Grams.mapscapes-Union{Tuple{A}, Tuple{Function,A}} where A&lt;:AbstractArray" href="#DigitalMusicology.Grams.mapscapes-Union{Tuple{A}, Tuple{Function,A}} where A&lt;:AbstractArray"><code>DigitalMusicology.Grams.mapscapes</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">mapscapes(f, arr)</code></pre><p>Map <code>f</code> over all <code>n</code>-grams in arr for <code>n=1:size(arr, 1)</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Grams.jl#L54-L58">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Grams.scapes-Union{Tuple{A}, Tuple{A}} where A&lt;:AbstractArray" href="#DigitalMusicology.Grams.scapes-Union{Tuple{A}, Tuple{A}} where A&lt;:AbstractArray"><code>DigitalMusicology.Grams.scapes</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">scapes(arr)</code></pre><p>Return all <code>n</code>-grams in <code>arr</code> for <code>n=1:size(arr, 1)</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; scapes([1,2,3])
3-element Array{Array{Array{Int64,1},1},1}:
 Array{Int64,1}[[1], [2], [3]]
 Array{Int64,1}[[1, 2], [2, 3]]
 Array{Int64,1}[[1, 2, 3]]</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Grams.jl#L36-L50">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.Grams.skipgrams" href="#DigitalMusicology.Grams.skipgrams"><code>DigitalMusicology.Grams.skipgrams</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">skipgrams(input, k, n, cost [, pred] [, element_type=type] [, stable=false] [, p=1.0])</code></pre><p>Returns an iterator over all generalized <code>k</code>-skip-<code>n</code>-grams found in <code>input</code>.</p><p>Instead of defining skips as index steps &gt; 1, a general <code>cost</code> function is used. <code>k</code> is then an upper bound to the sum of all distances between consecutive elements in the gram.</p><p>The input needs to be iterable and monotonous with respect to the cost to a previous element:</p><pre><code class="language-none">∀ i&lt;j&lt;l: cost(input[i], input[j]) ≤ cost(input[i], input[l])</code></pre><p>From this we know that if the current element increases the skip cost of some unfinished gram (prefix) to more than <code>k</code>, then all following elements will increase the cost at least as much, so we can discard the prefix.</p><p>An optional predicate function can be provided to filter potential skipgrams early. The predicate takes a <code>PersistentList</code> of input elements <em>in reverse order</em> (i.e., starting with the element that was added last). The predicate is applied to every prefix, so the list will have &lt;=n elements. By default, all sequences of input elements are valid.</p><p>If <code>element_type</code> is provided, the resulting iterator will have a corresponding <code>eltype</code>. If not, it will try to guess the element type based on the input&#39;s <code>eltype</code>.</p><p>If <code>stable</code> is <code>true</code>, then the skipgrams will be ordered with respect to the position of their first element in the input stream. If <code>stable</code> is <code>false</code> (default), no particular order is guaranteed.</p><p>The parameter <code>p</code> allows to decide randomly (with probability p) whether a skipgram is included in the output in cases where the full list of skipgrams is to long. A coin with bias p^(1/n) will be flipped for every prefix applying to all completions of that prefix. Only if the coin flip for every prefix is positive, the skipgram will be included. This allows to save computation time by throwing away all completions of a discarded prefix, but it might introduce artifacts for the same reason.</p><p><strong>Examples</strong></p><pre><code class="language-julia">function indexskipgrams(itr, k, n)
    cost(x, y) = y[1] - x[1] - 1
    grams = skipgrams_itr(enumerate(itr), k, n, cost)
    map(sg -&gt; map(x -&gt; x[2], sg), grams)
end</code></pre></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/Grams.jl#L97-L145">source</a></section><h2><a class="nav-anchor" id="Viewing-1" href="#Viewing-1">Viewing</a></h2><p>Helpers for viewing music.</p><p>Midi files in a corpus can be viewed using <a href="https://musescore.org/">MuseScore</a>. (This function will probably be moved to the corpora package.)</p><p>In Jupyter notebooks, <a href="http://www.humdrum.org/">Humdrum</a> <code>**kern</code> strings can be viewed (and played) using <a href="http://www.verovio.org/">Verovio</a> (in fact, the branch of Verovio that is used in the <a href="http://doc.verovio.humdrum.org/">Verovio HumDrum Viewer</a>). Therefore, a musical structure can be visualized by translating it to a <a href="reference.html#DigitalMusicology.External.HumDrumString"><code>HumDrumString</code></a>.</p><p>For example, the Humdrum string</p><pre><code class="language-none">**kern	**kern
*clefF4	*clefG2
*k[f#]	*k[f#]
*M4/4	*M4/4
=-	=-
8GL	8ddL
8AJ	8ccJ
16BLL	2.b;
16A	.
16G	.
16F#JJ	.
2G;	.
==	==
*-	*-</code></pre><p>will be displayed as</p><p><img src="assets/vhv_example.svg" alt="verovio svg"/></p><p>As Verovio can display other formats than Humdrum, corresponding types might be added in the future.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.External.HumDrumString" href="#DigitalMusicology.External.HumDrumString"><code>DigitalMusicology.External.HumDrumString</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">HumDrumString(&quot;some humdrum&quot;)</code></pre><p>A wrapper class that enables rendering and midi playback of humdrum code in the browser using verovio. When a HumDrumString is the result of a jupyter notebook cell, its content will be rendered to the output cell automatically.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/External.jl#L28-L35">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.External.musescore" href="#DigitalMusicology.External.musescore"><code>DigitalMusicology.External.musescore</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">musescore(id, [corpus])</code></pre><p>Opens the midi file of the piece that <code>id</code> refers to using Musescore. If <code>corpus</code> is not supplied, the current default corpus is used.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/External.jl#L12-L17">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DigitalMusicology.External.verovio-Tuple{}" href="#DigitalMusicology.External.verovio-Tuple{}"><code>DigitalMusicology.External.verovio</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">verovio()</code></pre><p>Set up display of <a href="reference.html#DigitalMusicology.External.HumDrumString"><code>HumDrumString</code></a>s in Jupyter Notebooks.</p></div><a class="source-link" target="_blank" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/94b1fe445c104eda1ad52a17f19ab9be5e26da8d/src/External.jl#L78-L82">source</a></section><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Introduction</span></a></footer></article></body></html>
