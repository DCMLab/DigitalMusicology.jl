<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Development · DigitalMusicology.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>DigitalMusicology.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction</a></li><li class="current"><a class="toctext" href="develop.html">Development</a><ul class="internal"><li><a class="toctext" href="#Setup-1">Setup</a></li><li><a class="toctext" href="#Structure-of-the-Repository-1">Structure of the Repository</a></li><li><a class="toctext" href="#Workflow-1">Workflow</a></li><li><a class="toctext" href="#Design-Principles-1">Design Principles</a></li></ul></li><li><a class="toctext" href="reference.html">Reference</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="develop.html">Development</a></li></ul><a class="edit-page" href="https://github.com/DCMLab/DigitalMusicology.jl/blob/master/docs/src/develop.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Development</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Developer-Documentation-1" href="#Developer-Documentation-1">Developer Documentation</a></h1><h2><a class="nav-anchor" id="Setup-1" href="#Setup-1">Setup</a></h2><h3><a class="nav-anchor" id=".-Install-[Julia](https://julialang.org/downloads/).-1" href="#.-Install-[Julia](https://julialang.org/downloads/).-1">1. Install <a href="https://julialang.org/downloads/">Julia</a>.</a></h3><p>Choose the most up to date version, but at least 1.0. Make sure to <strong>read the instructions</strong> for you platform.</p><h3><a class="nav-anchor" id=".-Get-DigitalMusicology.jl.-1" href="#.-Get-DigitalMusicology.jl.-1">2. Get DigitalMusicology.jl.</a></h3><p>If you don&#39;t have push access to the repository, you should first create a fork on GitHub. This step can be done using Julia. Open your terminal and type <code>julia</code>. Type <code>]</code> to enter the package manager.</p><pre><code class="language-julia-repl">julia&gt; ]
# EITHER: if you have push access to the main repo:
(1.x) pkg&gt; dev git@github.com:DCMLab/DigitalMusicology.jl.git
# OR:
(1.x) pkg&gt; dev git@github.com:&lt;yourusername&gt;/&lt;yourfork&gt;.git</code></pre><p>This will install DigitalMusicology.jl (or your fork of it) in development mode in the default directory (<code>.julia/dev</code>). If you want to use a different location, have a look at the options for <code>dev</code> by typing <code>?dev</code> in package mode. You can also clone the repo yourself to an arbitrary location using git.</p><h3><a class="nav-anchor" id=".-Start-Hacking-1" href="#.-Start-Hacking-1">3. Start Hacking</a></h3><p>Go to your local clone of the repository (by default <code>./julia/dev/DigitalMusicology/</code>). Start a Julia session in that directory and in package mode (<code>]</code>) type</p><pre><code class="language-none">(1.x) pkg&gt; activate .
(DigitalMusicology) pkg&gt; instantiate</code></pre><p>These commands do two things:</p><ol><li><code>activate .</code> activates the <em>project</em> DigitalMusicology. This needs to be done everytime you restart Julia (even in Atom), and tells Julia to respect the dependencies of that project. The currently active project is indicated by the prompt in package mode. When starting Julia, you are in the <em>default project</em> (1.x).</li><li><code>instantiate</code> downloads the current project&#39;s dependencies. This needs to be done only once, as Julia will automatically download new dependencies when you add them.</li></ol><p>For more information on projects and packages, refer to the <a href="https://docs.julialang.org/en/v1/stdlib/Pkg/">official documentation</a>.</p><h3><a class="nav-anchor" id=".-Use-Feature-Branches-and-Pull-Requests-1" href="#.-Use-Feature-Branches-and-Pull-Requests-1">4. Use Feature Branches and Pull Requests</a></h3><p>If you just want to fix typos or smaller bugs, it&#39;s fine to do this on the master branch. If you want to implement a new feature, reorganize the library or make any bigger changes, please create a <em>feature branch</em> first. Once the subproject is completed, the feature branch might be merged into master again. Usually this is done by <em>pull requests</em>, i.e. you make changes on your own branch or fork and then request that these changes are <em>pulled</em> to the master branch.</p><p>GitHub has a <a href="https://help.github.com/articles/proposing-changes-to-your-work-with-pull-requests/">good introduction</a> to using branches and pull requests.</p><h2><a class="nav-anchor" id="Structure-of-the-Repository-1" href="#Structure-of-the-Repository-1">Structure of the Repository</a></h2><h3><a class="nav-anchor" id="Julia-Package-1" href="#Julia-Package-1">Julia Package</a></h3><p>The DigitalMusicology.jl repository has the form of a Julia package, which means that it has</p><ol><li>A directory <code>src/</code> with a file <code>DigitalMusicology.jl</code>. This file is the entry point to the library and is responsible for loading all other files.</li><li>A <code>test/</code> directory for unit tests.</li><li>A <code>docs/</code> directory for documentation.</li><li>A file <code>Project.toml</code> (listing all declared dependencies used directly).</li><li>A file <code>Manifest.toml</code> (listing all transitive dependencies with exact version numbers)</li></ol><p>The latter two files are usually not touched directly but manipulated by the package manager when adding, removing, or updating dependencies.</p><h3><a class="nav-anchor" id="Source-Code-1" href="#Source-Code-1">Source Code</a></h3><p>The Julia source code can be found in the <code>src/</code> directory. A very rough overview of the files can be found in <code>DigitalMusicology.jl</code>, but structuring the library is WIP.</p><h3><a class="nav-anchor" id="Tests-1" href="#Tests-1">Tests</a></h3><p>Tests are contained in the <code>test/</code> directory with a file <code>test/runtests.jl</code>, which runs standard Julia <a href="https://docs.julialang.org/en/v1/stdlib/Test/">unit tests</a>. You can run all tests from the Julia REPL in package manager mode with <code>test DigitalMusicology</code>.</p><h3><a class="nav-anchor" id="Documentation-1" href="#Documentation-1">Documentation</a></h3><p>Documentation is generated from markdown files using <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a>. The <code>docs/</code> directory contains the file <code>make.jl</code>, which, when run, compiles the documentation and pushes it to the the library&#39;s <a href="https://dcmlab.github.io/DigitalMusicology.jl/latest">documentation page</a>. To compile and view the documentation locally, use <code>makelocal.jl</code>:</p><pre><code class="language-none">$ cd docs
$ julia makelocal.jl</code></pre><p>For now, this requires you to have Documenter.jl installed in the global project. <strong>TODO</strong> fix issue with Documenter.jl dependency and add new info here.</p><p>If you add new markdown files, don&#39;t forget to add them both in <code>make.jl</code> and <code>makelocal.jl</code>.</p><h2><a class="nav-anchor" id="Workflow-1" href="#Workflow-1">Workflow</a></h2><p><strong>TODO</strong></p><h2><a class="nav-anchor" id="Design-Principles-1" href="#Design-Principles-1">Design Principles</a></h2><p><strong>TODO</strong></p><ul><li>representations should be interchangable<ul><li>interfaces are important</li></ul></li><li>representations are chosen to<ul><li>be easy to work with programmatically</li><li>be easy to convert to other representations</li></ul></li></ul><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Introduction</span></a><a class="next" href="reference.html"><span class="direction">Next</span><span class="title">Reference</span></a></footer></article></body></html>
